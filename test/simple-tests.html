<!DOCTYPE html>
<html>

    <head>

        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <script src="../bower_components/webcomponentsjs/webcomponents-lite.js"></script>
        <script src="../bower_components/web-component-tester/browser.js"></script>

        <link rel="import" href="../simple-search.html" />

        <title>Simple Search - Test</title>

    </head>

    <body unresolved>

        <test-fixture id="simple-search">
            <template>
                <simple-search static-open></simple-search>
            </template>
        </test-fixture>

        <script>
            suite("simple-search static-open", function(){
                var element;
                setup(function(){
                    element = fixture("simple-search");
                });
                test("search area appearing in static open", function(){
                    assert.equal(element.isOpen, true);
                });
                test("search event triggered", function(done){
                    element.addEventListener("search", function(e){
                        assert.equal(e.detail, "test");
                        done();
                    });
                    console.log(element);
                    element.$$("#searchInput").value = "test";
                    element.$$(".trigger-search paper-icon-button").click();
                });
            });
        </script>

    </body>

</html>